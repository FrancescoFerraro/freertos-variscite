<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ISSDK: algorithms/sensorfusion/sources/control.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="issdk_stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="nxp_logo_small.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ISSDK
   &#160;<span id="projectnumber">1.7</span>
   </div>
   <div id="projectbrief">IoT Sensing Software Development Kit</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_c0ce462e37efe0a8d60c01d75f78f8a0.html">algorithms</a></li><li class="navelem"><a class="el" href="dir_cb8ed5ffd1f20a5af7e420f81f312621.html">sensorfusion</a></li><li class="navelem"><a class="el" href="dir_c60867674b20e7d761cd401b87ce879d.html">sources</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">control.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Defines control sub-system.  
<a href="#details">More...</a></p>
<div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="control_8h__dep__incl.png" border="0" usemap="#algorithms_2sensorfusion_2sources_2control_8hdep" alt=""/></div>
<map name="algorithms_2sensorfusion_2sources_2control_8hdep" id="algorithms_2sensorfusion_2sources_2control_8hdep">
</map>
</div>
</div>
<p><a href="control_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_control_subsystem.html">ControlSubsystem</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">he <a class="el" href="struct_control_subsystem.html" title="he ControlSubsystem encapsulates command and data streaming functions. ">ControlSubsystem</a> encapsulates command and data streaming functions.  <a href="struct_control_subsystem.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a7bb1f2fadae97637d14fefbd6456fa33"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct_control_subsystem.html">ControlSubsystem</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="control_8h.html#a7bb1f2fadae97637d14fefbd6456fa33">ControlSubsystem</a></td></tr>
<tr class="memdesc:a7bb1f2fadae97637d14fefbd6456fa33"><td class="mdescLeft">&#160;</td><td class="mdescRight">he <a class="el" href="struct_control_subsystem.html" title="he ControlSubsystem encapsulates command and data streaming functions. ">ControlSubsystem</a> encapsulates command and data streaming functions.  <a href="#a7bb1f2fadae97637d14fefbd6456fa33">More...</a><br /></td></tr>
<tr class="separator:a7bb1f2fadae97637d14fefbd6456fa33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Control Port Function Type Definitions</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>The "write" and "stream" commands provide two control functions visible at the <a class="el" href="fxas21002_2fxas21002__fifo_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="Main function. ">main()</a> level. These typedefs define the structure of those two calls. </p>
</div></td></tr>
<tr class="memitem:a1a861679f7ffc0e775ecf0806c2d4b08"><td class="memItemLeft" align="right" valign="top">typedef int8_t()&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="control_8h.html#a1a861679f7ffc0e775ecf0806c2d4b08">writePort_t</a>(struct <a class="el" href="struct_control_subsystem.html">ControlSubsystem</a> *pComm, uint8_t buffer[], uint16_t nbytes)</td></tr>
<tr class="separator:a1a861679f7ffc0e775ecf0806c2d4b08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d4691866eccb12fc4f2d311410e9f1a"><td class="memItemLeft" align="right" valign="top">typedef void()&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="control_8h.html#a2d4691866eccb12fc4f2d311410e9f1a">streamData_t</a>(<a class="el" href="struct_sensor_fusion_globals.html">SensorFusionGlobals</a> *<a class="el" href="main__freertos__two__tasks_8c.html#afa81c629d378fe700f351a1bce411ad5">sfg</a>, uint8_t *<a class="el" href="control__lpsci_8c.html#a3b6c71dda245dccb73352c7264176527">sUARTOutputBuffer</a>)</td></tr>
<tr class="separator:a2d4691866eccb12fc4f2d311410e9f1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a67029acf1be9712c5d30c625132ad958"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="control_8h.html#a67029acf1be9712c5d30c625132ad958">initializeControlPort</a> (<a class="el" href="struct_control_subsystem.html">ControlSubsystem</a> *pComm)</td></tr>
<tr class="memdesc:a67029acf1be9712c5d30c625132ad958"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call this once to initialize structures, ports, etc.  <a href="#a67029acf1be9712c5d30c625132ad958">More...</a><br /></td></tr>
<tr class="separator:a67029acf1be9712c5d30c625132ad958"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbb4129e795ca534e4bb1649bb81b559"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="control_8h.html#adbb4129e795ca534e4bb1649bb81b559">CreateAndSendPackets</a> (<a class="el" href="struct_sensor_fusion_globals.html">SensorFusionGlobals</a> *<a class="el" href="main__freertos__two__tasks_8c.html#afa81c629d378fe700f351a1bce411ad5">sfg</a>, uint8_t *<a class="el" href="control__lpsci_8c.html#a3b6c71dda245dccb73352c7264176527">sUARTOutputBuffer</a>)</td></tr>
<tr class="separator:adbb4129e795ca534e4bb1649bb81b559"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d80b68d03de87c2d3cce67273f8a165"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="control_8h.html#a2d80b68d03de87c2d3cce67273f8a165">DecodeCommandBytes</a> (<a class="el" href="struct_sensor_fusion_globals.html">SensorFusionGlobals</a> *<a class="el" href="main__freertos__two__tasks_8c.html#afa81c629d378fe700f351a1bce411ad5">sfg</a>, char iCommandBuffer[], <a class="el" href="sensor__fusion_8h.html#a33a5e996e7a90acefb8b1c0bea47e365">uint8</a> sUART_InputBuffer[], <a class="el" href="sensor__fusion_8h.html#ac2a9e79eb120216f855626495b7bd18a">uint16</a> nbytes)</td></tr>
<tr class="separator:a2d80b68d03de87c2d3cce67273f8a165"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0022c0c45a3b736ffe21164001662b44"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="control_8h.html#a0022c0c45a3b736ffe21164001662b44">BlueRadios_Init</a> (void)</td></tr>
<tr class="separator:a0022c0c45a3b736ffe21164001662b44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ad6e53b35d6fc860a1299ceff40a299"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="control_8h.html#a7ad6e53b35d6fc860a1299ceff40a299">sBufAppendItem</a> (uint8_t *pDest, uint16_t *pIndex, uint8_t *pSource, uint16_t iBytesToCopy)</td></tr>
<tr class="memdesc:a7ad6e53b35d6fc860a1299ceff40a299"><td class="mdescLeft">&#160;</td><td class="mdescRight">Utility function used to place data in output buffer about to be transmitted via UART.  <a href="#a7ad6e53b35d6fc860a1299ceff40a299">More...</a><br /></td></tr>
<tr class="separator:a7ad6e53b35d6fc860a1299ceff40a299"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a3b6c71dda245dccb73352c7264176527"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="control_8h.html#a3b6c71dda245dccb73352c7264176527">sUARTOutputBuffer</a> [256]</td></tr>
<tr class="memdesc:a3b6c71dda245dccb73352c7264176527"><td class="mdescLeft">&#160;</td><td class="mdescRight">main output buffer defined in <a class="el" href="control_8c.html" title="Defines control sub-system. ">control.c</a>  <a href="#a3b6c71dda245dccb73352c7264176527">More...</a><br /></td></tr>
<tr class="separator:a3b6c71dda245dccb73352c7264176527"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Defines control sub-system. </p>
<p>Each sensor fusion application will probably have its own set of functions to control the fusion process and report results. This file defines the programming interface that should be followed in order for the fusion functions to operate correctly out of the box. The actual command interpreter is defined separately in <a class="el" href="_decode_command_bytes_8c.html" title="Command interpreter which interfaces to the Sensor Fusion Toolbox. ">DecodeCommandBytes.c</a>. The output streaming function is defined in <a class="el" href="output__stream_8c.html" title="Implements streaming function for the status subsystem. See status.h. ">output_stream.c</a>. Via these three files, the NXP Sensor Fusion Library provides a default set of functions which are compatible with the Sensor Fusion Toolbox. Use of the toolbox is highly recommended at least during initial development, as it provides many useful debug features. The NXP development team will typically require use of the toolbox as a pre-requisite for providing software support. </p>

<p class="definition">Definition in file <a class="el" href="control_8h_source.html">control.h</a>.</p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="a7bb1f2fadae97637d14fefbd6456fa33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7bb1f2fadae97637d14fefbd6456fa33">&#9670;&nbsp;</a></span>ControlSubsystem</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct_control_subsystem.html">ControlSubsystem</a>  <a class="el" href="struct_control_subsystem.html">ControlSubsystem</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>he <a class="el" href="struct_control_subsystem.html" title="he ControlSubsystem encapsulates command and data streaming functions. ">ControlSubsystem</a> encapsulates command and data streaming functions. </p>
<p>The <a class="el" href="struct_control_subsystem.html" title="he ControlSubsystem encapsulates command and data streaming functions. ">ControlSubsystem</a> encapsulates command and data streaming functions for the library. A C++-like typedef structure which includes executable methods for the subsystem is defined here. </p>

</div>
</div>
<a id="a2d4691866eccb12fc4f2d311410e9f1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d4691866eccb12fc4f2d311410e9f1a">&#9670;&nbsp;</a></span>streamData_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void() streamData_t(<a class="el" href="struct_sensor_fusion_globals.html">SensorFusionGlobals</a> *<a class="el" href="main__freertos__two__tasks_8c.html#afa81c629d378fe700f351a1bce411ad5">sfg</a>, uint8_t *<a class="el" href="control__lpsci_8c.html#a3b6c71dda245dccb73352c7264176527">sUARTOutputBuffer</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="control_8h_source.html#l00034">34</a> of file <a class="el" href="control_8h_source.html">control.h</a>.</p>

</div>
</div>
<a id="a1a861679f7ffc0e775ecf0806c2d4b08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a861679f7ffc0e775ecf0806c2d4b08">&#9670;&nbsp;</a></span>writePort_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int8_t() writePort_t(struct <a class="el" href="struct_control_subsystem.html">ControlSubsystem</a> *pComm, uint8_t buffer[], uint16_t nbytes)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="control_8h_source.html#l00033">33</a> of file <a class="el" href="control_8h_source.html">control.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a0022c0c45a3b736ffe21164001662b44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0022c0c45a3b736ffe21164001662b44">&#9670;&nbsp;</a></span>BlueRadios_Init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BlueRadios_Init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Used to initialize the Blue Radios Bluetooth module found on the FRDM-FXS-MULT2-B sensor shield from NXP. </p>

<p class="definition">Definition at line <a class="el" href="control_8c_source.html#l00110">110</a> of file <a class="el" href="control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="control_8c_source.html#l00037">sUARTOutputBuffer</a>, <a class="el" href="control__lpsci_8c_source.html#l00055">writeControlPort()</a>, and <a class="el" href="control_8c_source.html#l00077">writeWirelessPort()</a>.</p>

<p class="reference">Referenced by <a class="el" href="control_8c_source.html#l00160">initializeControlPort()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="control_8h_a0022c0c45a3b736ffe21164001662b44_cgraph.png" border="0" usemap="#control_8h_a0022c0c45a3b736ffe21164001662b44_cgraph" alt=""/></div>
<map name="control_8h_a0022c0c45a3b736ffe21164001662b44_cgraph" id="control_8h_a0022c0c45a3b736ffe21164001662b44_cgraph">
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="control_8h_a0022c0c45a3b736ffe21164001662b44_icgraph.png" border="0" usemap="#control_8h_a0022c0c45a3b736ffe21164001662b44_icgraph" alt=""/></div>
<map name="control_8h_a0022c0c45a3b736ffe21164001662b44_icgraph" id="control_8h_a0022c0c45a3b736ffe21164001662b44_icgraph">
</map>
</div>

</div>
</div>
<a id="adbb4129e795ca534e4bb1649bb81b559"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbb4129e795ca534e4bb1649bb81b559">&#9670;&nbsp;</a></span>CreateAndSendPackets()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CreateAndSendPackets </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_sensor_fusion_globals.html">SensorFusionGlobals</a> *&#160;</td>
          <td class="paramname"><em>sfg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>sUARTOutputBuffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Called once per fusion cycle to stream information required by the NXP Sensor Fusion Toolbox. Packet protocols are defined in the NXP Sensor Fusion for Kinetis Product Development Kit User Guide. </p>

<p class="definition">Definition at line <a class="el" href="output__stream_8c_source.html#l00122">122</a> of file <a class="el" href="output__stream_8c_source.html">output_stream.c</a>.</p>

<p class="reference">References <a class="el" href="control_8h_source.html#l00049">ControlSubsystem::AccelCalPacketOn</a>, <a class="el" href="control_8h_source.html#l00048">ControlSubsystem::AltPacketOn</a>, <a class="el" href="control_8h_source.html#l00045">ControlSubsystem::AngularVelocityPacketOn</a>, <a class="el" href="sensor__fusion_8h_source.html#l00060">CHX</a>, <a class="el" href="sensor__fusion_8h_source.html#l00061">CHY</a>, <a class="el" href="sensor__fusion_8h_source.html#l00062">CHZ</a>, <a class="el" href="control_8h_source.html#l00046">ControlSubsystem::DebugPacketOn</a>, <a class="el" href="standard__build_8h_source.html#l00050">F_1DOF_P_BASIC</a>, <a class="el" href="standard__build_8h_source.html#l00052">F_3DOF_B_BASIC</a>, <a class="el" href="standard__build_8h_source.html#l00051">F_3DOF_G_BASIC</a>, <a class="el" href="standard__build_8h_source.html#l00053">F_3DOF_Y_BASIC</a>, <a class="el" href="standard__build_8h_source.html#l00054">F_6DOF_GB_BASIC</a>, <a class="el" href="standard__build_8h_source.html#l00055">F_6DOF_GY_KALMAN</a>, <a class="el" href="standard__build_8h_source.html#l00056">F_9DOF_GBY_KALMAN</a>, <a class="el" href="standard__build_8h_source.html#l00038">F_USING_ACCEL</a>, <a class="el" href="standard__build_8h_source.html#l00040">F_USING_GYRO</a>, <a class="el" href="magnetic_8h_source.html#l00021">F_USING_MAG</a>, <a class="el" href="magnetic_8h_source.html#l00060">MagCalibration::fB</a>, <a class="el" href="magnetic_8h_source.html#l00062">MagCalibration::fFitErrorpc</a>, <a class="el" href="magnetic_8h_source.html#l00059">MagCalibration::finvW</a>, <a class="el" href="standard__build_8h_source.html#l00068">FUSION_HZ</a>, <a class="el" href="magnetic_8h_source.html#l00058">MagCalibration::fV</a>, <a class="el" href="sensor__fusion_8h_source.html#l00227">MagSensor::iBc</a>, <a class="el" href="magnetic_8h_source.html#l00048">MagBuffer::iBs</a>, <a class="el" href="sensor__fusion_8h_source.html#l00228">MagSensor::iCountsPeruT</a>, <a class="el" href="sensor__fusion_8h_source.html#l00467">SensorFusionGlobals::iFlags</a>, <a class="el" href="magnetic_8h_source.html#l00051">MagBuffer::iMagBufferCount</a>, <a class="el" href="magnetic_8h_source.html#l00049">MagBuffer::index</a>, <a class="el" href="data__format__service_8h.html#a5d7069350a7d7e65686c77a8038f462f">int32_t()</a>, <a class="el" href="sensor__fusion_8h_source.html#l00489">SensorFusionGlobals::Mag</a>, <a class="el" href="sensor__fusion_8h_source.html#l00491">SensorFusionGlobals::MagBuffer</a>, <a class="el" href="magnetic_8h_source.html#l00027">MAGBUFFSIZEX</a>, <a class="el" href="magnetic_8h_source.html#l00028">MAGBUFFSIZEY</a>, <a class="el" href="sensor__fusion_8h_source.html#l00490">SensorFusionGlobals::MagCal</a>, <a class="el" href="precision_accelerometer_8h_source.html#l00018">MAX_ACCEL_CAL_ORIENTATIONS</a>, <a class="el" href="sensor__fusion_8h_source.html#l00462">SensorFusionGlobals::pControlSubsystem</a>, <a class="el" href="orientation_8h_source.html#l00022">Quaternion::q0</a>, <a class="el" href="orientation_8h_source.html#l00023">Quaternion::q1</a>, <a class="el" href="orientation_8h_source.html#l00024">Quaternion::q2</a>, <a class="el" href="orientation_8h_source.html#l00025">Quaternion::q3</a>, <a class="el" href="sensor__fusion_8h_source.html#l00049">Q3</a>, <a class="el" href="sensor__fusion_8h_source.html#l00051">Q3G</a>, <a class="el" href="sensor__fusion_8h_source.html#l00050">Q3M</a>, <a class="el" href="sensor__fusion_8h_source.html#l00053">Q6AG</a>, <a class="el" href="sensor__fusion_8h_source.html#l00052">Q6MA</a>, <a class="el" href="sensor__fusion_8h_source.html#l00054">Q9</a>, <a class="el" href="control_8h_source.html#l00044">ControlSubsystem::QuaternionPacketType</a>, <a class="el" href="output__stream_8c_source.html#l00078">readCommon()</a>, <a class="el" href="control_8h_source.html#l00047">ControlSubsystem::RPCPacketOn</a>, <a class="el" href="output__stream_8c_source.html#l00037">sBufAppendItem()</a>, <a class="el" href="output__stream_8c_source.html#l00070">sBufAppendZeros()</a>, <a class="el" href="frdm__k64f_8h_source.html#l00145">THIS_BOARD</a>, <a class="el" href="frdm-k64f_2frdm-fxs-mult2-b_2frdm__fxs__mult2b__shield_8h_source.html#l00087">THIS_SHIELD</a>, <a class="el" href="standard__build_8h_source.html#l00021">THISBUILD</a>, <a class="el" href="output__stream_8c_source.html#l00097">throttle()</a>, and <a class="el" href="control_8h_source.html#l00050">ControlSubsystem::write</a>.</p>

<p class="reference">Referenced by <a class="el" href="control_8c_source.html#l00160">initializeControlPort()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="control_8h_adbb4129e795ca534e4bb1649bb81b559_cgraph.png" border="0" usemap="#control_8h_adbb4129e795ca534e4bb1649bb81b559_cgraph" alt=""/></div>
<map name="control_8h_adbb4129e795ca534e4bb1649bb81b559_cgraph" id="control_8h_adbb4129e795ca534e4bb1649bb81b559_cgraph">
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="control_8h_adbb4129e795ca534e4bb1649bb81b559_icgraph.png" border="0" usemap="#control_8h_adbb4129e795ca534e4bb1649bb81b559_icgraph" alt=""/></div>
<map name="control_8h_adbb4129e795ca534e4bb1649bb81b559_icgraph" id="control_8h_adbb4129e795ca534e4bb1649bb81b559_icgraph">
</map>
</div>

</div>
</div>
<a id="a2d80b68d03de87c2d3cce67273f8a165"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d80b68d03de87c2d3cce67273f8a165">&#9670;&nbsp;</a></span>DecodeCommandBytes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DecodeCommandBytes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_sensor_fusion_globals.html">SensorFusionGlobals</a> *&#160;</td>
          <td class="paramname"><em>sfg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>iCommandBuffer</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sensor__fusion_8h.html#a33a5e996e7a90acefb8b1c0bea47e365">uint8</a>&#160;</td>
          <td class="paramname"><em>sUART_InputBuffer</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sensor__fusion_8h.html#ac2a9e79eb120216f855626495b7bd18a">uint16</a>&#160;</td>
          <td class="paramname"><em>nbytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function is responsible for decoding commands sent by the NXP Sensor Fusion Toolbox and setting the appropriate flags in the <a class="el" href="struct_control_subsystem.html" title="he ControlSubsystem encapsulates command and data streaming functions. ">ControlSubsystem</a> data structure. Packet protocols are defined in the NXP Sensor Fusion for Kinetis Product Development Kit User Guide. </p>

<p class="definition">Definition at line <a class="el" href="_decode_command_bytes_8c_source.html#l00068">68</a> of file <a class="el" href="_decode_command_bytes_8c_source.html">DecodeCommandBytes.c</a>.</p>

<p class="reference">References <a class="el" href="precision_accelerometer_8h_source.html#l00017">ACCEL_CAL_AVERAGING_SECS</a>, <a class="el" href="control_8h_source.html#l00049">ControlSubsystem::AccelCalPacketOn</a>, <a class="el" href="control_8h_source.html#l00048">ControlSubsystem::AltPacketOn</a>, <a class="el" href="control_8h_source.html#l00045">ControlSubsystem::AngularVelocityPacketOn</a>, <a class="el" href="sensor__fusion_8h_source.html#l00060">CHX</a>, <a class="el" href="sensor__fusion_8h_source.html#l00062">CHZ</a>, <a class="el" href="_decode_command_bytes_8c_source.html#l00046">cmd_180X</a>, <a class="el" href="_decode_command_bytes_8c_source.html#l00047">cmd_180Y</a>, <a class="el" href="_decode_command_bytes_8c_source.html#l00048">cmd_180Z</a>, <a class="el" href="_decode_command_bytes_8c_source.html#l00035">cmd_ALTminus</a>, <a class="el" href="_decode_command_bytes_8c_source.html#l00034">cmd_ALTplus</a>, <a class="el" href="_decode_command_bytes_8c_source.html#l00025">cmd_DBminus</a>, <a class="el" href="_decode_command_bytes_8c_source.html#l00024">cmd_DBplus</a>, <a class="el" href="_decode_command_bytes_8c_source.html#l00042">cmd_ERAC</a>, <a class="el" href="_decode_command_bytes_8c_source.html#l00045">cmd_ERGC</a>, <a class="el" href="_decode_command_bytes_8c_source.html#l00043">cmd_ERMC</a>, <a class="el" href="_decode_command_bytes_8c_source.html#l00044">cmd_ERYC</a>, <a class="el" href="_decode_command_bytes_8c_source.html#l00049">cmd_M90X</a>, <a class="el" href="_decode_command_bytes_8c_source.html#l00051">cmd_M90Y</a>, <a class="el" href="_decode_command_bytes_8c_source.html#l00053">cmd_M90Z</a>, <a class="el" href="_decode_command_bytes_8c_source.html#l00050">cmd_P90X</a>, <a class="el" href="_decode_command_bytes_8c_source.html#l00052">cmd_P90Y</a>, <a class="el" href="_decode_command_bytes_8c_source.html#l00054">cmd_P90Z</a>, <a class="el" href="_decode_command_bytes_8c_source.html#l00055">cmd_PA00</a>, <a class="el" href="_decode_command_bytes_8c_source.html#l00056">cmd_PA01</a>, <a class="el" href="_decode_command_bytes_8c_source.html#l00057">cmd_PA02</a>, <a class="el" href="_decode_command_bytes_8c_source.html#l00058">cmd_PA03</a>, <a class="el" href="_decode_command_bytes_8c_source.html#l00059">cmd_PA04</a>, <a class="el" href="_decode_command_bytes_8c_source.html#l00060">cmd_PA05</a>, <a class="el" href="_decode_command_bytes_8c_source.html#l00061">cmd_PA06</a>, <a class="el" href="_decode_command_bytes_8c_source.html#l00062">cmd_PA07</a>, <a class="el" href="_decode_command_bytes_8c_source.html#l00063">cmd_PA08</a>, <a class="el" href="_decode_command_bytes_8c_source.html#l00064">cmd_PA09</a>, <a class="el" href="_decode_command_bytes_8c_source.html#l00065">cmd_PA10</a>, <a class="el" href="_decode_command_bytes_8c_source.html#l00066">cmd_PA11</a>, <a class="el" href="_decode_command_bytes_8c_source.html#l00026">cmd_Q3</a>, <a class="el" href="_decode_command_bytes_8c_source.html#l00028">cmd_Q3G</a>, <a class="el" href="_decode_command_bytes_8c_source.html#l00027">cmd_Q3M</a>, <a class="el" href="_decode_command_bytes_8c_source.html#l00030">cmd_Q6AG</a>, <a class="el" href="_decode_command_bytes_8c_source.html#l00029">cmd_Q6MA</a>, <a class="el" href="_decode_command_bytes_8c_source.html#l00031">cmd_Q9</a>, <a class="el" href="_decode_command_bytes_8c_source.html#l00037">cmd_RINS</a>, <a class="el" href="_decode_command_bytes_8c_source.html#l00033">cmd_RPCminus</a>, <a class="el" href="_decode_command_bytes_8c_source.html#l00032">cmd_RPCplus</a>, <a class="el" href="_decode_command_bytes_8c_source.html#l00036">cmd_RST</a>, <a class="el" href="_decode_command_bytes_8c_source.html#l00038">cmd_SVAC</a>, <a class="el" href="_decode_command_bytes_8c_source.html#l00041">cmd_SVGC</a>, <a class="el" href="_decode_command_bytes_8c_source.html#l00039">cmd_SVMC</a>, <a class="el" href="_decode_command_bytes_8c_source.html#l00040">cmd_SVYC</a>, <a class="el" href="_decode_command_bytes_8c_source.html#l00023">cmd_VGminus</a>, <a class="el" href="_decode_command_bytes_8c_source.html#l00022">cmd_VGplus</a>, <a class="el" href="control_8h_source.html#l00046">ControlSubsystem::DebugPacketOn</a>, <a class="el" href="calibration__storage_8c_source.html#l00170">EraseAccelCalibrationFromNVM()</a>, <a class="el" href="calibration__storage_8c_source.html#l00149">EraseGyroCalibrationFromNVM()</a>, <a class="el" href="calibration__storage_8c_source.html#l00128">EraseMagCalibrationFromNVM()</a>, <a class="el" href="precision_accelerometer_8c_source.html#l00018">fInitializeAccelCalibration()</a>, <a class="el" href="fusion_8c_source.html#l00033">fInitializeFusion()</a>, <a class="el" href="magnetic_8c_source.html#l00024">fInitializeMagCalibration()</a>, <a class="el" href="standard__build_8h_source.html#l00068">FUSION_HZ</a>, <a class="el" href="sensor__fusion_8h_source.html#l00469">SensorFusionGlobals::iPerturbation</a>, <a class="el" href="sensor__fusion_8h_source.html#l00491">SensorFusionGlobals::MagBuffer</a>, <a class="el" href="sensor__fusion_8h_source.html#l00490">SensorFusionGlobals::MagCal</a>, <a class="el" href="sensor__fusion_8h_source.html#l00462">SensorFusionGlobals::pControlSubsystem</a>, <a class="el" href="sensor__fusion_8h_source.html#l00049">Q3</a>, <a class="el" href="sensor__fusion_8h_source.html#l00051">Q3G</a>, <a class="el" href="sensor__fusion_8h_source.html#l00050">Q3M</a>, <a class="el" href="sensor__fusion_8h_source.html#l00053">Q6AG</a>, <a class="el" href="sensor__fusion_8h_source.html#l00052">Q6MA</a>, <a class="el" href="sensor__fusion_8h_source.html#l00054">Q9</a>, <a class="el" href="control_8h_source.html#l00044">ControlSubsystem::QuaternionPacketType</a>, <a class="el" href="control_8h_source.html#l00047">ControlSubsystem::RPCPacketOn</a>, <a class="el" href="calibration__storage_8c_source.html#l00094">SaveAccelCalibrationToNVM()</a>, <a class="el" href="calibration__storage_8c_source.html#l00055">SaveGyroCalibrationToNVM()</a>, and <a class="el" href="calibration__storage_8c_source.html#l00021">SaveMagCalibrationToNVM()</a>.</p>

<p class="reference">Referenced by <a class="el" href="control__lpsci_8c_source.html#l00083">CONTROL_UART_IRQHandler()</a>, <a class="el" href="control_8c_source.html#l00136">WIRED_UART_IRQHandler()</a>, <a class="el" href="control__lpc_8c_source.html#l00055">WIRED_USART_IRQHandler()</a>, and <a class="el" href="control_8c_source.html#l00088">WIRELESS_UART_IRQHandler()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="control_8h_a2d80b68d03de87c2d3cce67273f8a165_cgraph.png" border="0" usemap="#control_8h_a2d80b68d03de87c2d3cce67273f8a165_cgraph" alt=""/></div>
<map name="control_8h_a2d80b68d03de87c2d3cce67273f8a165_cgraph" id="control_8h_a2d80b68d03de87c2d3cce67273f8a165_cgraph">
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="control_8h_a2d80b68d03de87c2d3cce67273f8a165_icgraph.png" border="0" usemap="#control_8h_a2d80b68d03de87c2d3cce67273f8a165_icgraph" alt=""/></div>
<map name="control_8h_a2d80b68d03de87c2d3cce67273f8a165_icgraph" id="control_8h_a2d80b68d03de87c2d3cce67273f8a165_icgraph">
</map>
</div>

</div>
</div>
<a id="a67029acf1be9712c5d30c625132ad958"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67029acf1be9712c5d30c625132ad958">&#9670;&nbsp;</a></span>initializeControlPort()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t initializeControlPort </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_control_subsystem.html">ControlSubsystem</a> *&#160;</td>
          <td class="paramname"><em>pComm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Call this once to initialize structures, ports, etc. </p>
<p>Call this once to initialize structures, ports, etc. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pComm</td><td>pointer to the control subystem structure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="control_8c_source.html#l00160">160</a> of file <a class="el" href="control_8c_source.html">control.c</a>.</p>

<p class="reference">References <a class="el" href="control_8h_source.html#l00049">ControlSubsystem::AccelCalPacketOn</a>, <a class="el" href="control_8h_source.html#l00048">ControlSubsystem::AltPacketOn</a>, <a class="el" href="control_8h_source.html#l00045">ControlSubsystem::AngularVelocityPacketOn</a>, <a class="el" href="control_8c_source.html#l00110">BlueRadios_Init()</a>, <a class="el" href="frdm-k64f_2board_8h_source.html#l00031">BOARD_DEBUG_UART_BAUDRATE</a>, <a class="el" href="lpcxpresso54114_2board_8h_source.html#l00028">BOARD_DEBUG_UART_CLK_ATTACH</a>, <a class="el" href="control_8c_source.html#l00031">CONTROL_BAUDRATE</a>, <a class="el" href="frdm__kl25z_8h_source.html#l00121">CONTROL_UART</a>, <a class="el" href="frdm__kl25z_8h_source.html#l00128">CONTROL_UART_CLKSRC</a>, <a class="el" href="frdm__kl25z_8h_source.html#l00129">CONTROL_UART_IRQn</a>, <a class="el" href="frdm__kl25z_8h_source.html#l00126">CONTROL_UART_MUX</a>, <a class="el" href="frdm__kl25z_8h_source.html#l00123">CONTROL_UART_PORT</a>, <a class="el" href="frdm__kl25z_8h_source.html#l00122">CONTROL_UART_PORT_CLKEN</a>, <a class="el" href="frdm__kl25z_8h_source.html#l00124">CONTROL_UART_RX_PIN</a>, <a class="el" href="frdm__kl25z_8h_source.html#l00125">CONTROL_UART_TX_PIN</a>, <a class="el" href="output__stream_8c_source.html#l00122">CreateAndSendPackets()</a>, <a class="el" href="control_8h_source.html#l00046">ControlSubsystem::DebugPacketOn</a>, <a class="el" href="control_8h_source.html#l00043">ControlSubsystem::DefaultQuaternionPacketType</a>, <a class="el" href="sensor__fusion_8h_source.html#l00049">Q3</a>, <a class="el" href="control_8h_source.html#l00044">ControlSubsystem::QuaternionPacketType</a>, <a class="el" href="control_8h_source.html#l00047">ControlSubsystem::RPCPacketOn</a>, <a class="el" href="control_8h_source.html#l00051">ControlSubsystem::stream</a>, <a class="el" href="frdm__k64f_8h_source.html#l00119">WIRED_UART</a>, <a class="el" href="frdm__k64f_8h_source.html#l00129">WIRED_UART_CLKSRC</a>, <a class="el" href="frdm__k64f_8h_source.html#l00130">WIRED_UART_IRQn</a>, <a class="el" href="frdm__k64f_8h_source.html#l00124">WIRED_UART_MUX</a>, <a class="el" href="frdm__k64f_8h_source.html#l00121">WIRED_UART_PORT</a>, <a class="el" href="frdm__k64f_8h_source.html#l00120">WIRED_UART_PORT_CLKEN</a>, <a class="el" href="frdm__k64f_8h_source.html#l00122">WIRED_UART_RX_PIN</a>, <a class="el" href="frdm__k64f_8h_source.html#l00123">WIRED_UART_TX_PIN</a>, <a class="el" href="lpc54114_8h_source.html#l00081">WIRED_USART</a>, <a class="el" href="lpc54114_8h_source.html#l00083">WIRED_USART_CLK_FREQ</a>, <a class="el" href="lpc54114_8h_source.html#l00085">WIRED_USART_IRQn</a>, <a class="el" href="frdm__k64f_8h_source.html#l00133">WIRELESS_UART</a>, <a class="el" href="frdm__k64f_8h_source.html#l00141">WIRELESS_UART_CLKSRC</a>, <a class="el" href="frdm__k64f_8h_source.html#l00142">WIRELESS_UART_IRQn</a>, <a class="el" href="frdm__k64f_8h_source.html#l00138">WIRELESS_UART_MUX</a>, <a class="el" href="frdm__k64f_8h_source.html#l00135">WIRELESS_UART_PORT</a>, <a class="el" href="frdm__k64f_8h_source.html#l00134">WIRELESS_UART_PORT_CLKEN</a>, <a class="el" href="frdm__k64f_8h_source.html#l00136">WIRELESS_UART_RX_PIN</a>, <a class="el" href="frdm__k64f_8h_source.html#l00137">WIRELESS_UART_TX_PIN</a>, <a class="el" href="control_8h_source.html#l00050">ControlSubsystem::write</a>, and <a class="el" href="control_8c_source.html#l00057">writeControlPort()</a>.</p>

<p class="reference">Referenced by <a class="el" href="main__agm01__freertos__two__tasks_8c_source.html#l00059">main()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="control_8h_a67029acf1be9712c5d30c625132ad958_cgraph.png" border="0" usemap="#control_8h_a67029acf1be9712c5d30c625132ad958_cgraph" alt=""/></div>
<map name="control_8h_a67029acf1be9712c5d30c625132ad958_cgraph" id="control_8h_a67029acf1be9712c5d30c625132ad958_cgraph">
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="control_8h_a67029acf1be9712c5d30c625132ad958_icgraph.png" border="0" usemap="#control_8h_a67029acf1be9712c5d30c625132ad958_icgraph" alt=""/></div>
<map name="control_8h_a67029acf1be9712c5d30c625132ad958_icgraph" id="control_8h_a67029acf1be9712c5d30c625132ad958_icgraph">
</map>
</div>

</div>
</div>
<a id="a7ad6e53b35d6fc860a1299ceff40a299"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ad6e53b35d6fc860a1299ceff40a299">&#9670;&nbsp;</a></span>sBufAppendItem()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sBufAppendItem </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>pDest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>pIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>pSource</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>iBytesToCopy</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Utility function used to place data in output buffer about to be transmitted via UART. </p>

<p class="definition">Definition at line <a class="el" href="output__stream_8c_source.html#l00037">37</a> of file <a class="el" href="output__stream_8c_source.html">output_stream.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="orientaion__application__baremetal__agm01_8c_source.html#l00216">appendZerosOrientBuf()</a>, <a class="el" href="output__stream_8c_source.html#l00122">CreateAndSendPackets()</a>, and <a class="el" href="output__stream_8c_source.html#l00070">sBufAppendZeros()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="control_8h_a7ad6e53b35d6fc860a1299ceff40a299_icgraph.png" border="0" usemap="#control_8h_a7ad6e53b35d6fc860a1299ceff40a299_icgraph" alt=""/></div>
<map name="control_8h_a7ad6e53b35d6fc860a1299ceff40a299_icgraph" id="control_8h_a7ad6e53b35d6fc860a1299ceff40a299_icgraph">
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a3b6c71dda245dccb73352c7264176527"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b6c71dda245dccb73352c7264176527">&#9670;&nbsp;</a></span>sUARTOutputBuffer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t sUARTOutputBuffer[256]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>main output buffer defined in <a class="el" href="control_8c.html" title="Defines control sub-system. ">control.c</a> </p>

<p class="definition">Definition at line <a class="el" href="control_8c_source.html#l00037">37</a> of file <a class="el" href="control_8c_source.html">control.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="control_8c_source.html#l00110">BlueRadios_Init()</a>, and <a class="el" href="main__baremetal_8c_source.html#l00055">main()</a>.</p>

</div>
</div>
</div><!-- contents -->

<hr class="footer"/><address class="footer"><small>
&copy; Copyright 2016-2018 NXP. All Rights Reserved.
</small></address>
</body>
</html>
